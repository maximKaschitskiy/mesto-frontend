{"version":3,"sources":["images/header/header__logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/PopupAvatarEdit.js","components/PopupAddPlace.js","components/PopupProfileEdit.js","components/PopupDeleteCard.js","components/ImagePopup.js","components/Login.js","components/Register.js","images/popup/success.svg","images/popup/fail.svg","components/InfoTooltip.js","components/ProtectedRoute.js","utils/Api.js","utils/AccountApi.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","loggedIn","currentUserLogin","logOut","location","useLocation","entranceButtonsText","urls","className","src","headerLogo","alt","to","onClick","pathname","CurrentUserContext","createContext","Card","item","owner","onCardClick","onCardLike","onCardDel","React","useState","liked","setLiked","useContext","currentUser","useEffect","likes","some","_id","type","href","target","name","link","length","Main","isEditAvatarPopupOpen","isEditProfilePopupOpen","isAddPlacePopupOpen","cards","setCards","handleLikeButton","event","avatar","about","map","Footer","PopupWithForm","isOpen","onClose","formTitle","buttonTitle","buttonTitleLoading","children","onSubmit","onLoad","resetForm","value","disabled","PopupAvatarEdit","onChangeUserpic","inputField","setInputField","preventDefault","placeholder","id","onChange","handleChange","required","PopupAddPlace","onAddPlace","PopupProfileEdit","onUpdateUser","PopupDeleteCard","card","onDeleteCard","ImagePopup","Login","email","password","noValidate","autoComplete","Register","InfoTooltip","onFail","succsessText","failText","navigate","useNavigate","handleOnSuccess","failIcon","succsessIcon","ProtectedRoute","addApi","baseUrl","this","fetch","method","headers","_getJwt","then","_checkResponse","bind","nameValue","aboutValue","body","JSON","stringify","linkValue","values","res","ok","json","Promise","reject","status","localStorage","jwt","addAccountApi","console","log","App","setIsAvatarPopupOpen","isDeleteCardPopupOpen","setIsDeleteCardPopupOpen","setIsProfilePopupOpen","setIsAddPlacePopupOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setOnload","setLoggedIn","isInfoTooltip","setIsInfoTooltip","isEntranceFail","setIsEntranceFail","setCurrentUserLogin","closePopups","changeLikeCardStatus","isLiked","unLikeCard","likeCard","getUserInfo","response","catch","err","getCards","validation","StrictMode","Provider","tabIndex","onKeyDown","keyCode","handleEscKeydown","removeItem","path","element","replace","register","finally","auth","token","setItem","props","newCard","newCards","error","deleteCard","filter","c","setUserPic","setUserInfo","postCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5e909c99.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header__logo.6a0a6fc2.svg\";","import React from 'react';\r\nimport { useLocation, Link } from \"react-router-dom\";\r\nimport headerLogo from '../images/header/header__logo.svg';\r\n\r\nfunction Header({ loggedIn, currentUserLogin, logOut }) {\r\n  \r\n  const location = useLocation();\r\n\r\n  const entranceButtonsText = { registration: \"Create account\",\r\n                                login: \"Log in\",\r\n                                signOut: \"Log out\" };\r\n\r\n  const urls = { signUp: '/sign-up',\r\n                 signIn: '/sign-in' }\r\n\r\n  \r\n  function handleLogOut() {\r\n    logOut();\r\n  }\r\n                \r\n  return (\r\n          <header className=\"header\">\r\n            <img src={headerLogo} className=\"header__logo\" alt=\"Mesto Logo\" />\r\n            <Link to={'/'} className=\"header__profile-button\">{ loggedIn ? `${currentUserLogin}` : null }</Link>\r\n            { (loggedIn) ?\r\n              <Link to={'/'} className=\"header__entrance-button\" onClick={handleLogOut}>{entranceButtonsText.signOut}</Link> :\r\n              <Link className=\"header__entrance-button\" to={\r\n                (location.pathname === urls.signUp) ? `${urls.signIn}` :\r\n                (location.pathname === urls.signIn) ? `${urls.signUp}` :\r\n                (loggedIn) ? `${entranceButtonsText.signOut}` :\r\n                entranceButtonsText.login\r\n              }>{ \r\n                (location.pathname === urls.signUp) ? `${entranceButtonsText.login}` :\r\n                (location.pathname === urls.signIn) ? `${entranceButtonsText.registration}` :\r\n                (loggedIn) ? `${entranceButtonsText.signOut}`:\r\n                entranceButtonsText.login\r\n                }\r\n              </Link>\r\n            }\r\n          </header>\r\n  );\r\n}\r\n\r\nexport default Header;","import {createContext} from 'react';\r\nconst CurrentUserContext = createContext();\r\nexport default CurrentUserContext;","import React from 'react';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\r\n\r\nfunction Card ( { item, owner, onCardClick, onCardLike, onCardDel } ) {\r\n\r\n  const [liked, setLiked] = React.useState(false);\r\n  \r\n  const [currentUser] = React.useContext(CurrentUserContext);\r\n\r\n  const handleCardClick = function () {\r\n    onCardClick(item)\r\n  }\r\n  \r\n  const handleCardLike = function () {\r\n    onCardLike(item)\r\n  }\r\n\r\n  const handleCardDelete = function () {\r\n    onCardDel(item)\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    if (item.likes.some(item => item === currentUser._id)) {\r\n      setLiked(true);\r\n    } else {\r\n      setLiked(false);\r\n    };\r\n  }, [item.likes, currentUser._id]);\r\n\r\n    return (\r\n      <div className=\"elements__element\">\r\n        {\r\n          owner \r\n          ? <button className=\"elements__delete-button\" type=\"button\" onClick={()=>{handleCardDelete(item)}} ></button>\r\n          : null\r\n        }\r\n          <a className=\"elements__picture-link\" href=\"#/\" target=\"_self\" onClick={handleCardClick}>\r\n            <img className=\"elements__picture\" alt={item.name} src={item.link}/>\r\n          </a>\r\n        <div className=\"elements__caption\">\r\n          <h2 className=\"elements__caption-text\">{item.name}</h2>\r\n          <div className=\"elements__like\">\r\n          <button className={`elements__like-button ${liked ? 'elements__like-button_active' : ''}`} type=\"button\" onClick={()=>{handleCardLike(item)}}></button>\r\n            <span className=\"elements__like-count\">{item.likes.length}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Card;\r\n","import React from 'react';\r\n\r\nimport Card from '../components/Card.js';\r\n\r\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\r\n\r\nfunction Main( {isEditAvatarPopupOpen, isEditProfilePopupOpen, isAddPlacePopupOpen, onCardDel, onCardClick, cards, setCards, onCardLike} ) {\r\n\r\n  const [currentUser] = React.useContext(CurrentUserContext);\r\n\r\n  const handleLikeButton = (event) => {\r\n    onCardLike(event);\r\n  }\r\n\r\n    return (\r\n      <main>\r\n        <section className=\"profile\">\r\n          <div className=\"profile__avatar-container\">\r\n            <button className=\"profile__avatar-edit\" onClick={isEditAvatarPopupOpen}></button>\r\n            <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"User picture\" />\r\n          </div>\r\n          <div className=\"profile__info\">\r\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n            <button className=\"profile__edit-button\" type=\"button\" onClick={isEditProfilePopupOpen}></button>\r\n            <p className=\"profile__status\">{currentUser.about}</p>\r\n          </div>\r\n          <button className=\"profile__add-button\" type=\"button\" onClick={isAddPlacePopupOpen}></button>\r\n        </section>\r\n        <section className=\"elements\">\r\n        {cards && cards.map((item) => {\r\n          return (\r\n            <Card \r\n            item={item} \r\n            owner={item.owner === currentUser._id}\r\n            onCardClick={onCardClick}\r\n            onCardDel={onCardDel}\r\n            onCardLike={(item)=>{handleLikeButton(item)}}\r\n            key={item._id}\r\n            />\r\n            )\r\n          }\r\n        )}\r\n        </section>\r\n      </main>\r\n    );\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n          <footer className=\"footer\">\r\n            <p className=\"footer__copyright\">&copy; 2021 Mesto</p>\r\n          </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\n\r\nfunction PopupWithForm( {isOpen, onClose, formTitle, buttonTitle, buttonTitleLoading, children, onSubmit, onLoad, className, resetForm} ) {\r\n\r\n  return (\r\n  <>\r\n    <section className={`popup-overlay ${isOpen ? \"popup-overlay_active\" : \"\"}`} onClick={onClose}></section>\r\n    <section className={`popup ${isOpen ? \"popup_active\" : \"\"}`}>\r\n      <div className=\"popup__window\">\r\n        <button className=\"popup__close-button\" type=\"button\" onClick={onClose}></button>\r\n        <form onSubmit={onSubmit} className={className}>\r\n          <h2 className=\"popup__form-title\">{formTitle}</h2>\r\n          <fieldset className=\"popup__form-fieldset\">\r\n            {children}\r\n            <input type=\"submit\" className=\"popup__form-submit-button popup__form-submit-button_form_profile\" value={`${onLoad ? buttonTitleLoading : buttonTitle}`} disabled={onLoad} ></input>\r\n          </fieldset>\r\n        </form>\r\n      </div>\r\n    </section>\r\n  </>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\n\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\r\n\r\nfunction PopupAvatarEdit( {isOpen, onClose, onLoad, onChangeUserpic} ) {\r\n\r\n  const [currentUser] = React.useContext(CurrentUserContext);\r\n  const [inputField , setInputField] = React.useState({\r\n    avatar: ''\r\n  })\r\n\r\n  const handleChange = (event) =>{\r\n    setInputField( { ...inputField,\r\n      [event.target.name]: event.target.value\r\n    } );\r\n  }\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    onChangeUserpic(inputField);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setInputField( {avatar: currentUser.avatar\r\n                  } );\r\n  }, [currentUser, isOpen]);\r\n\r\n  return (\r\n      <PopupWithForm\r\n      className={\"popup__form popup__form_state_edit-userpic\"}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onLoad={onLoad}\r\n      formTitle={\"Upload picture\"}\r\n      buttonTitle={\"Apply\"}\r\n      buttonTitleLoading={\"Uploading...\"}\r\n      onSubmit={handleSubmit}\r\n      >\r\n        <input type=\"url\" placeholder=\"Ссылка на картинку\" className=\"popup__form-input popup__form-input_field_userpic-link\" name=\"avatar\" id=\"userpic-link-field\" value={inputField.avatar || ''} onChange={(event)=>{handleChange(event)}} required />\r\n        <span className=\"popup__form-error-text popup__form-error-text_message_userpic-link userpic-link-field-error\"></span>\r\n      </PopupWithForm>\r\n    );\r\n  }\r\n\r\n  export default PopupAvatarEdit;\r\n","import React from 'react';\r\n\r\nimport PopupWithForm from './PopupWithForm.js';\r\n\r\nfunction PopupAddPlace( {isOpen, onClose, formTitle, buttonTitle, onAddPlace, onLoad} ) {\r\n\r\n  const [inputField, setInputField] = React.useState({\r\n    name: '',\r\n    link: ''\r\n  })\r\n\r\n  const handleChange = (event) =>{\r\n    setInputField( { ...inputField,\r\n      [event.target.name]: event.target.value\r\n    } );\r\n  }\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    onAddPlace(inputField);\r\n}\r\n\r\nReact.useEffect(() => {\r\n  setInputField({\r\n    name: '',\r\n    link: ''\r\n  });\r\n}, [isOpen]);\r\n\r\n  return (\r\n      <PopupWithForm\r\n        className={\"popup__form popup__form_state_add-place\"}\r\n        isOpen={isOpen}\r\n        onClose={onClose}\r\n        onLoad={onLoad}\r\n        formTitle={\"New place\"}\r\n        buttonTitle={\"Add\"}\r\n        buttonTitleLoading={\"Creating...\"}\r\n        onSubmit={handleSubmit}\r\n      >\r\n      <input value={inputField.name} type=\"text\" placeholder=\"Название\" className=\"popup__form-input popup__form-input_field_place-name\" name=\"name\" id=\"place-name-field\" onChange={(event)=>{handleChange(event)}}/>\r\n      <span className=\"popup__form-error-text popup__form-error-text_message_place-name place-name-field-error\"></span>\r\n      <input value={inputField.link} type=\"url\" placeholder=\"Ссылка на картинку\" className=\"popup__form-input popup__form-input_field_picture-link\" name=\"link\" id=\"picture-link-field\" onChange={(event)=>{handleChange(event)}}/>\r\n      <span className=\"popup__form-error-text popup__form-error-text_message_picture-link picture-link-field-error\"></span>\r\n      </PopupWithForm>\r\n  );\r\n}\r\n\r\n  export default PopupAddPlace;","import React from 'react';\r\n\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\r\n\r\nfunction PopupProfileEdit( {isOpen, onClose, onUpdateUser, resetForm, onLoad } ) {\r\n\r\n  const [currentUser] = React.useContext(CurrentUserContext);\r\n\r\n  const [inputField , setInputField] = React.useState({\r\n    name: '',\r\n    about: ''\r\n  })\r\n  \r\n  const handleChange = (event) =>{\r\n    setInputField( { ...inputField,\r\n      [event.target.name]: event.target.value\r\n    } );\r\n  }\r\n\r\n  const handleSubmit = (event) => {\r\n      event.preventDefault();\r\n      onUpdateUser(inputField);\r\n  }\r\n     \r\n  React.useEffect(() => {\r\n    setInputField( {name: currentUser.name,\r\n                    about: currentUser.about\r\n                  } );\r\n  }, [currentUser, isOpen]); \r\n\r\n  return (\r\n    <PopupWithForm\r\n      className={\"popup__form popup__form_state_edit-profile\"}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onLoad={onLoad}\r\n      formTitle={\"Edit profile\"}\r\n      buttonTitle={\"Apply\"}\r\n      buttonTitleLoading={\"Uploading...\"}\r\n      onSubmit={handleSubmit}\r\n      >\r\n      <input type=\"text\" placeholder=\"Имя\" className=\"popup__form-input popup__form-input_field_name\" name=\"name\" id=\"name-field\" value={inputField.name || ''} onChange={(event)=>{handleChange(event)}}/>\r\n      <span className=\"popup__form-error-text popup__form-error-text_message_name name-field-error\"></span>\r\n      <input type=\"text\" placeholder=\"Должность\" className=\"popup__form-input popup__form-input_field_status\" name=\"about\" id=\"about-field\" value={inputField.about  || ''} onChange={(event)=>{handleChange(event)}}/>\r\n      <span className=\"popup__form-error-text popup__form-error-text_message_status status-field-error\"></span>\r\n    </PopupWithForm>\r\n    );\r\n  }\r\n\r\n  export default PopupProfileEdit;","import React from 'react';\r\n\r\nimport PopupWithForm from './PopupWithForm.js';\r\n\r\nfunction PopupDeleteCard( {card, isOpen, onClose, onLoad, onDeleteCard}  ) {\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    onDeleteCard(card);\r\n  }\r\n\r\n  return (\r\n      <PopupWithForm\r\n        className={\"popup__form\"}\r\n        isOpen={isOpen}\r\n        onClose={onClose}\r\n        onLoad={onLoad}\r\n        formTitle={\"Are you sure?\"}\r\n        buttonTitle={\"Yes\"}\r\n        buttonTitleLoading={\"Deleting...\"}\r\n        onSubmit={handleSubmit}\r\n      />\r\n    );\r\n  }\r\n\r\n  export default PopupDeleteCard;","import React from 'react';\r\n\r\nfunction ImagePopup({ card, isOpen, onClose }) {\r\n\r\n  return (\r\n  <>\r\n    <section className={`popup-overlay ${isOpen ? \"popup-overlay_active\" : \"\"}`} onClick={onClose}></section>\r\n    <section className={`popup ${isOpen ? \"popup_active\" : \"\"} popup_state_picture-full`}>\r\n        <div className=\"popup__window popup__window_state_picture-full\">\r\n          <button className=\"popup__close-button popup__close-button_state_picture-full\" type=\"button\" onClick={onClose}></button>\r\n          <img className=\"popup__image\" src={card ? card.link : \"\"} alt={card ? card.name : \"\"} />\r\n          <h2 className=\"popup__caption\">{card ? card.name : \"\"}</h2>\r\n        </div>\r\n    </section>\r\n  </>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;","import React from \"react\";\r\n\r\nfunction Login({onLoad, onSubmit}) {\r\n\r\n  const [inputField, setInputField] = React.useState({\r\n    email: '',\r\n    password: ''\r\n  })\r\n\r\nconst handleChange = (event) =>{\r\n    setInputField( { ...inputField,\r\n      [event.target.name]: event.target.value\r\n    } );\r\n  }\r\n\r\nconst handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    onSubmit(inputField);\r\n}\r\n\r\nReact.useEffect(() => {\r\n  setInputField({\r\n    email: '',\r\n    password: ''\r\n  });\r\n}, []);\r\n\r\n  return (\r\n    <section className=\"user-entrance user-entrance__screen_state_login\">\r\n      <form className=\"user-entrance__form user-entrance__form_state_login\" onSubmit={handleSubmit} name=\"user-entrance__form_state_login\" noValidate>\r\n        <h2 className=\"user-entrance__form-title\">Sign in</h2>\r\n        <fieldset className=\"user-entrance__form-fieldset user-entrance__form-fieldset_state_login\">\r\n          <input value={inputField.email} type=\"text\" placeholder=\"Email\" className=\"user-entrance__form-input user-entrance__form-input_field_email\" name=\"email\" id=\"email-field\" onChange={(event)=>{handleChange(event)}}></input>\r\n          <span className=\"user-entrance__form-error-text user-entrance__form-error-text_message_email email-field-error\"></span>\r\n          <input value={inputField.password} type=\"password\" placeholder=\"Password\" className=\"user-entrance__form-input user-entrance__form-input_field_password\" name=\"password\" id=\"password-field\" onChange={(event)=>{handleChange(event)}} autoComplete=\"on\"></input>\r\n          <span className=\"user-entrance__form-error-text user-entrance__form-error-text_message_password password-field-error\"></span>\r\n          <input type=\"submit\" className=\"user-entrance__form-submit-button user-entrance__form-submit-button_form_login\" disabled={onLoad} value=\"Sign in\"></input>\r\n        </fieldset>\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Register({onLoad, onSubmit}) {\r\n\r\nconst [inputField, setInputField] = React.useState({\r\n    email: '',\r\n    password: ''\r\n  })\r\n\r\nconst handleChange = (event) =>{\r\n    setInputField( { ...inputField,\r\n      [event.target.name]: event.target.value\r\n    } );\r\n  }\r\n\r\nconst handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    onSubmit(inputField);\r\n}\r\n\r\nReact.useEffect(() => {\r\n  setInputField({\r\n    email: '',\r\n    password: ''\r\n  });\r\n}, []);\r\n\r\n  return (\r\n    <section className=\"user-entrance user-entrance__screen_state_registration\">\r\n      <form className=\"user-entrance__form user-entrance__form_state_registration\" onSubmit={handleSubmit} name=\"user-entrance__form_state_registration\" noValidate>\r\n        <h2 className=\"user-entrance__form-title\">Sign up</h2>\r\n        <fieldset className=\"user-entrance__form-fieldset user-entrance__form-fieldset_state_registration\">\r\n          <input value={inputField.email} type=\"text\" placeholder=\"Email\" className=\"user-entrance__form-input user-entrance__form-input_field_email\" name=\"email\" id=\"email-register-field\" onChange={(event)=>{handleChange(event)}}></input>\r\n          <span className=\"user-entrance__form-error-text user-entrance__form-error-text_message_email email-field-error\"></span>\r\n          <input value={inputField.password} type=\"password\" placeholder=\"Password\" className=\"user-entrance__form-input user-entrance__form-input_field_password\" name=\"password\" id=\"password-register-field\" onChange={(event)=>{handleChange(event)}} autoComplete=\"on\"></input>\r\n          <span className=\"user-entrance__form-error-text user-entrance__form-error-text_message_password password-field-error\"></span>\r\n          <input type=\"submit\" className=\"user-entrance__form-submit-button user-entrance__form-submit-button_form_registration\" disabled={onLoad} value=\"Sign up\"></input>\r\n        </fieldset>\r\n      </form>\r\n      <Link to={'/sign-in'} className=\"user-entrance__bottom-link user-entrance__bottom-link_state_registration\">Already a user? Sign in</Link>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","export default __webpack_public_path__ + \"static/media/success.a9eb6caf.svg\";","export default __webpack_public_path__ + \"static/media/fail.d4ce2a26.svg\";","import React from 'react';\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nimport succsessIcon from '../images/popup/success.svg'\r\nimport failIcon from '../images/popup/fail.svg'\r\n\r\nfunction InfoTooltip({isOpen, onClose, onFail}) {\r\n\r\n  const succsessText = { mainMessage: \"Registration successful!\",\r\n                         altCaption: \"Success\" };\r\n  const failText = { mainMessage: \"Something went wrong! Please, try again.\",\r\n                      altCaption: \"Error\" };\r\n  \r\n  const navigate = useNavigate();\r\n\r\n  function handleOnSuccess() {\r\n    navigate('/sign-in');\r\n    onClose();\r\n  }\r\n\r\n  return (\r\n  <>\r\n    <section className={`popup-overlay ${isOpen ? \"popup-overlay_active\" : \"\"}`} onClick={\r\n      () => (!onFail ? handleOnSuccess() : onClose())\r\n    }></section>\r\n    <section className={`popup ${isOpen ? \"popup_active\" : \"\"}`}>\r\n        <div className=\"popup__window\">\r\n        <button className=\"popup__close-button\" type=\"button\" onClick={\r\n           () => (!onFail ? handleOnSuccess() : onClose())\r\n          }></button>\r\n          <div className=\"popup__form\">\r\n            <img className=\"popup__icon popup__icon_state_success-message\" src={ onFail ? failIcon : succsessIcon } alt={ onFail ? failText.altCaption : succsessText.altCaption } />\r\n            <p className=\"popup__form-caption\">{ onFail ? `${failText.mainMessage}` : `${succsessText.mainMessage}` }</p>\r\n          </div>\r\n        </div>\r\n    </section>\r\n  </>\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;\r\n","import React from \"react\";\r\nimport { Navigate } from \"react-router-dom\";\r\n\r\nfunction ProtectedRoute({ loggedIn, children }) {\r\n  return loggedIn ? children : <Navigate to=\"/sign-in\" />;\r\n};\r\n\r\nexport default ProtectedRoute; ","class Api {\r\n    constructor(baseUrl) {\r\n      this.baseUrl = baseUrl;\r\n    }\r\n    getUserInfo() {\r\n        return fetch(`${this.baseUrl}/users/me`, {\r\n                method: 'GET',\r\n                headers: {\r\n                  'Content-Type': 'application/json',\r\n                  'Accept': 'application/json',\r\n                  'Access-Control-Allow-Credentials': 'true',\r\n                  \"Authorization\" : `Bearer ${this._getJwt()}`\r\n                }\r\n            })\r\n            .then(this._checkResponse.bind(this))\r\n          } \r\n    getCards() {\r\n        return fetch(`${this.baseUrl}/cards`, {\r\n                method: 'GET',\r\n                headers: {\r\n                  'Content-Type': 'application/json',\r\n                  'Accept': 'application/json',\r\n                  'Access-Control-Allow-Credentials': 'true',\r\n                  \"Authorization\" : `Bearer ${this._getJwt()}`\r\n                }\r\n            })\r\n            .then(this._checkResponse.bind(this))\r\n          } \r\n    setUserInfo(nameValue, aboutValue) {\r\n        return fetch(`${this.baseUrl}/users/me`, {\r\n            method: 'PATCH',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              'Accept': 'application/json',\r\n              'Access-Control-Allow-Credentials': 'true',\r\n              \"Authorization\" : `Bearer ${this._getJwt()}`\r\n            },\r\n            body: JSON.stringify({\r\n                name: nameValue,\r\n                about: aboutValue\r\n            })\r\n        })\r\n        .then(this._checkResponse.bind(this))\r\n      } \r\n    setUserPic(linkValue) {\r\n        return fetch(`${this.baseUrl}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              'Accept': 'application/json',\r\n              'Access-Control-Allow-Credentials': 'true',\r\n              \"Authorization\" : `Bearer ${this._getJwt()}`\r\n            },\r\n            body: JSON.stringify({\r\n                avatar: linkValue\r\n            })\r\n        })\r\n        .then(this._checkResponse.bind(this))\r\n      } \r\n    postCard(values) {\r\n        return fetch(`${this.baseUrl}/cards`, {\r\n            method: 'POST',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              'Accept': 'application/json',\r\n              'Access-Control-Allow-Credentials': 'true',\r\n              \"Authorization\" : `Bearer ${this._getJwt()}`\r\n            },\r\n            body: JSON.stringify({\r\n                name: values.name,\r\n                link: values.link\r\n            })\r\n        })\r\n        .then(this._checkResponse.bind(this))\r\n      } \r\n    deleteCard(value) {\r\n        return fetch(`${this.baseUrl}/cards/${value}`, {\r\n            method: 'DELETE',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              'Accept': 'application/json',\r\n              'Access-Control-Allow-Credentials': 'true',\r\n              \"Authorization\" : `Bearer ${this._getJwt()}`\r\n            },\r\n        })\r\n        .then(this._checkResponse.bind(this))\r\n      } \r\n    likeCard(value) {\r\n        return fetch(`${this.baseUrl}/cards/${value}/likes`, {\r\n            method: 'PUT',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              'Accept': 'application/json',\r\n              'Access-Control-Allow-Credentials': 'true',\r\n              \"Authorization\" : `Bearer ${this._getJwt()}`\r\n            },\r\n        })\r\n        .then(this._checkResponse.bind(this))\r\n      } \r\n    unLikeCard(value) {\r\n        return fetch(`${this.baseUrl}/cards/${value}/likes`, {\r\n            method: 'DELETE',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              'Accept': 'application/json',\r\n              'Access-Control-Allow-Credentials': 'true',\r\n              \"Authorization\" : `Bearer ${this._getJwt()}`\r\n            },\r\n        })\r\n        .then(this._checkResponse.bind(this))\r\n      }\r\n    _checkResponse(res) {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n    _getJwt() {\r\n      return localStorage.jwt;\r\n    }\r\n}\r\n\r\nconst baseUrl = process.env.NODE_ENV === 'production' ? 'https://mesto-api-five.vercel.app' : process.env.REACT_APP_DEV_API_URL;\r\n\r\nconst addApi = new Api(baseUrl);\r\nexport default addApi;","class AccountApi {\r\n    constructor(baseUrl) {\r\n      this.baseUrl = baseUrl;\r\n    }\r\n\r\n    register(values) {\r\n      console.log('register');\r\n        return fetch(`${this.baseUrl}/signup`, {\r\n            method: 'POST',\r\n            headers: {\"Content-Type\": \"application/json\",\r\n                      'Access-Control-Allow-Credentials': 'true'},\r\n            body: JSON.stringify({\r\n                password: values.password,\r\n                email: values.email\r\n            })\r\n        })\r\n        .then(this._checkResponse.bind(this))\r\n      } \r\n\r\n    auth(values) {\r\n        return fetch(`${this.baseUrl}/signin`, {\r\n            method: 'POST',\r\n            headers: {\"Content-Type\": \"application/json\",\r\n                      'Access-Control-Allow-Credentials': 'true'},\r\n            body: JSON.stringify({\r\n                password: values.password,\r\n                email: values.email\r\n            })\r\n        })\r\n        .then(this._checkResponse.bind(this))\r\n      }\r\n\r\n    validation(values) {\r\n        return fetch(`${this.baseUrl}/users/me`, {\r\n            method: 'GET',\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"Authorization\" : `Bearer ${values}`,\r\n                'Access-Control-Allow-Credentials': 'true'\r\n            }\r\n        })\r\n        .then(this._checkResponse.bind(this))\r\n      } \r\n\r\n    _checkResponse(res) {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n}\r\n\r\nconst baseUrl = process.env.NODE_ENV === 'production' ? 'https://mesto-api-five.vercel.app' : process.env.REACT_APP_DEV_API_URL;\r\n\r\nconst addAccountApi = new AccountApi(baseUrl);\r\nexport default addAccountApi;","import React from 'react';\r\nimport {\r\n  Routes,\r\n  Route,\r\n  Navigate,\r\n  useNavigate\r\n} from \"react-router-dom\";\r\nimport Header from '../components/Header.js';\r\nimport Main from '../components/Main.js';\r\nimport Footer from '../components/Footer.js';\r\nimport PopupAvatarEdit from './PopupAvatarEdit.js';\r\nimport PopupAddPlace from './PopupAddPlace.js';\r\nimport PopupProfileEdit from './PopupProfileEdit.js';\r\nimport PopupDeleteCard from './PopupDeleteCard.js';\r\nimport ImagePopup from './ImagePopup.js';\r\nimport Login from '../components/Login.js';\r\nimport Register from '../components/Register.js';\r\nimport InfoTooltip from '../components/InfoTooltip.js';\r\nimport ProtectedRoute from './ProtectedRoute.js';\r\nimport addApi from '../utils/Api.js';\r\nimport addAccountApi from '../utils/AccountApi.js';\r\n\r\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\r\n\r\nfunction App() {\r\nconst [isEditAvatarPopupOpen, setIsAvatarPopupOpen] = React.useState(false);\r\nconst [isDeleteCardPopupOpen, setIsDeleteCardPopupOpen] = React.useState(false);\r\nconst [isEditProfilePopupOpen, setIsProfilePopupOpen] = React.useState(false);\r\nconst [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\nconst [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\r\nconst [selectedCard, setSelectedCard] = React.useState(null);\r\nconst [currentUser, setCurrentUser] = React.useState({});\r\nconst [cards, setCards] = React.useState([]);\r\nconst [onLoad, setOnload] = React.useState(false);\r\nconst [loggedIn, setLoggedIn] = React.useState(false);\r\nconst [isInfoTooltip, setIsInfoTooltip] = React.useState(false);\r\nconst [isEntranceFail, setIsEntranceFail] = React.useState(false);\r\nconst [currentUserLogin, setCurrentUserLogin] = React.useState({});\r\n\r\nconst navigate = useNavigate();\r\n\r\nfunction closePopups() {\r\n  setIsAddPlacePopupOpen(false);\r\n  setIsAvatarPopupOpen(false);\r\n  setIsProfilePopupOpen(false);\r\n  setIsImagePopupOpen(false);\r\n  setIsDeleteCardPopupOpen(false);\r\n  setIsInfoTooltip(false);\r\n  setSelectedCard(null);\r\n}\r\n\r\nfunction handleCardClick(props) {\r\n    setIsImagePopupOpen(true);\r\n    setSelectedCard(props);\r\n  }\r\n\r\nfunction handleEditAvatarClick() {\r\n  setIsAvatarPopupOpen(true);\r\n}\r\n\r\nfunction handleEditProfileClick() {\r\n  setIsProfilePopupOpen(true);\r\n}\r\n\r\nfunction handleAddPlaceClick() {\r\n  setIsAddPlacePopupOpen(true);\r\n}\r\n\r\nfunction handleCardDel(props) {\r\n  setIsDeleteCardPopupOpen(true);\r\n  setSelectedCard(props);\r\n}\r\n\r\nfunction handleEscKeydown (event) {\r\n  if ((isEditAvatarPopupOpen || isDeleteCardPopupOpen || isEditProfilePopupOpen || isAddPlacePopupOpen || isImagePopupOpen) && event.keyCode === 27) {\r\n    closePopups();\r\n  }\r\n}\r\n\r\nconst changeLikeCardStatus = async function (card, isLiked) {\r\n  if (isLiked) {\r\n    let res = await addApi.unLikeCard(card)\r\n    return res;\r\n  } else {\r\n    let res= await addApi.likeCard(card);\r\n    return res;\r\n  }\r\n}\r\n\r\nconst handleCardLike = function (event) {\r\n  const isLiked = event.likes.some((item) =>\r\n    item === currentUser._id\r\n  );\r\n  changeLikeCardStatus(event._id, isLiked)\r\n    .then((newCard) => {\r\n      const newCards = cards.map((card) =>\r\n        card._id === event._id ? newCard : card\r\n      );\r\n      setCards(newCards);\r\n    })\r\n    .catch(err => console.error(err));\r\n}\r\n\r\nfunction handleUpdateUser(event) {\r\n    setOnload(true);\r\n    addApi.setUserInfo(event.name, event.about)\r\n    .then(\r\n      (response) => {\r\n        setCurrentUser(response);\r\n      })\r\n    .then(\r\n      () => {\r\n        closePopups();\r\n      })\r\n    .catch((err) => {\r\n        console.log(err);\r\n    })\r\n    .finally(\r\n      ()=> {\r\n        setOnload(false);\r\n    });\r\n  }\r\n\r\nfunction handleAddCard(event) {\r\n    setOnload(true);\r\n    addApi.postCard(event)\r\n    .then(\r\n      (response) => {\r\n        setCards([ response,\r\n          ...cards\r\n        ]);\r\n      })\r\n    .then(\r\n      () => {\r\n        closePopups();\r\n      })\r\n    .catch((err) => {\r\n        console.log(err);\r\n    })\r\n    .finally(\r\n      ()=> {\r\n        setOnload(false);\r\n    });\r\n  }\r\n\r\nfunction handleDeleteCard(event) {\r\n    setOnload(true);\r\n    addApi.deleteCard(event._id)\r\n    .then(() => {\r\n      setCards(cards.filter((c) =>\r\n        c._id !== event._id\r\n       ));\r\n      })\r\n    .then(\r\n      () => {\r\n        closePopups();\r\n      })\r\n    .catch((err) => {\r\n        console.log(err);\r\n      })\r\n    .finally(\r\n      ()=> {\r\n        setOnload(false);\r\n    }); \r\n  }\r\n\r\nfunction hadleEditUserpic(event) {\r\n    setOnload(true);\r\n    addApi.setUserPic(event.avatar)\r\n    .then(\r\n      (response) => {\r\n        setCurrentUser(response);\r\n      })\r\n    .then(\r\n      () => {\r\n        closePopups();\r\n      })\r\n    .catch((err) => {\r\n        console.log(err);\r\n      })\r\n    .finally(\r\n      ()=> {\r\n        setOnload(false);\r\n    });\r\n  }\r\n\r\nfunction handleLoginSubmit(event) {\r\n  setOnload(true);\r\n  addAccountApi.auth(event)\r\n  .then(\r\n    (response) => {\r\n      if (response.token) {\r\n        localStorage.setItem('jwt', response.token);\r\n        handleValidation(response.token);\r\n\r\n      } else {\r\n        return;\r\n      }\r\n    })\r\n  .catch((err) => {\r\n    console.log(err);\r\n    setIsEntranceFail(true);\r\n    setIsInfoTooltip(true);\r\n  })\r\n  .finally(\r\n    ()=> {\r\n      setOnload(false);\r\n  });\r\n}\r\n\r\nfunction handleValidation(token) {\r\n  addAccountApi.validation(token)\r\n  .then(\r\n    (response) => {\r\n      if (response) {\r\n        setCurrentUserLogin(response.email);\r\n        setLoggedIn(true);\r\n        navigate('/');\r\n    } else {\r\n      return;\r\n    }\r\n  })\r\n  .catch((err) => {\r\n    console.log(err);\r\n  })\r\n}\r\n\r\nfunction handleRegisterSubmit(event) {\r\n  setOnload(true);\r\n  addAccountApi.register(event)\r\n  .then(\r\n    () => {\r\n      setIsEntranceFail(false);\r\n  })\r\n  .catch((err) => {\r\n    console.log(err);\r\n    setIsEntranceFail(true);\r\n  })\r\n  .finally(\r\n    ()=> {\r\n      setOnload(false);\r\n      setIsInfoTooltip(true);\r\n  });\r\n}\r\n\r\nfunction handleLogOut() {\r\n  localStorage.removeItem('jwt');\r\n  setLoggedIn(false);\r\n  navigate('/sign-in');\r\n}\r\n\r\nReact.useEffect(() => {\r\n  if(loggedIn) {\r\n    addApi.getUserInfo()\r\n      .then(\r\n        (response) => {\r\n          setCurrentUser(response);\r\n        })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }\r\n}, [loggedIn]);\r\n\r\nReact.useEffect(() => {\r\n  if(loggedIn) {\r\n    addApi.getCards()\r\n      .then(\r\n        (response) => {\r\n          setCards(response);\r\n        })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }\r\n}, [loggedIn]);\r\n\r\nReact.useEffect(() => {\r\n  if (localStorage.jwt) {\r\n    addAccountApi.validation(localStorage.jwt)\r\n    .then(\r\n      (response) => {\r\n        if (response) {\r\n          setCurrentUserLogin(response.email);\r\n          setLoggedIn(true);\r\n          navigate('/');\r\n        } else {\r\n          return;\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  } else {\r\n    setLoggedIn(false);\r\n  }\r\n}, [loggedIn]);\r\n\r\n  return (\r\n    <React.StrictMode>\r\n      <CurrentUserContext.Provider value={[currentUser, setCurrentUser]}>\r\n        <div className=\"page\" tabIndex=\"0\" onKeyDown={(event)=>{handleEscKeydown(event)}}>\r\n            <Header loggedIn={loggedIn} currentUserLogin={currentUserLogin} logOut={handleLogOut}/>\r\n            <InfoTooltip isOpen={isInfoTooltip} onClose={closePopups} onFail={isEntranceFail} />\r\n              <Routes>\r\n                <Route path=\"*\" element={<Navigate replace to=\"/\" />} />\r\n                <Route path=\"/sign-up\" element={<Register onSubmit={handleRegisterSubmit} onLoad={onLoad} />} />\r\n                <Route path=\"/sign-in\" element={<Login onSubmit={handleLoginSubmit} onLoad={onLoad} />} />\r\n                <Route path=\"/\" element={\r\n                  <ProtectedRoute loggedIn={loggedIn}>\r\n                    <Main\r\n                      isEditAvatarPopupOpen={handleEditAvatarClick}\r\n                      isEditProfilePopupOpen={handleEditProfileClick}\r\n                      isAddPlacePopupOpen={handleAddPlaceClick}\r\n                      onCardClick={handleCardClick}\r\n                      onCardDel={handleCardDel}\r\n                      cards={cards}\r\n                      setCards={setCards}\r\n                      onCardLike={handleCardLike}\r\n                    />\r\n                  </ProtectedRoute>\r\n                }/>\r\n              </Routes>\r\n          <Footer />\r\n          <PopupDeleteCard isOpen={isDeleteCardPopupOpen} onClose={closePopups} card={selectedCard} onDeleteCard={handleDeleteCard} onLoad={onLoad} />\r\n          <PopupAvatarEdit isOpen={isEditAvatarPopupOpen} onClose={closePopups} onChangeUserpic={hadleEditUserpic} onLoad={onLoad} />\r\n          <PopupProfileEdit isOpen={isEditProfilePopupOpen} onClose={closePopups} onUpdateUser={handleUpdateUser} onLoad={onLoad}/>\r\n          <PopupAddPlace isOpen={isAddPlacePopupOpen} onClose={closePopups} onAddPlace={handleAddCard} onLoad={onLoad}/>\r\n          <ImagePopup isOpen={isImagePopupOpen} onClose={closePopups} card={selectedCard} />\r\n        </div>\r\n      </CurrentUserContext.Provider>\r\n    </React.StrictMode>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport './index.css';\r\nimport App from './components/App.js';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n  <BrowserRouter>\r\n    <App />\r\n  </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}