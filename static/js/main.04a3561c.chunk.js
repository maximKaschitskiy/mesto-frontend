(this["webpackJsonpmesto-react"]=this["webpackJsonpmesto-react"]||[]).push([[0],{32:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),s=n(27),c=n.n(s),r=n(10),i=(n(32),n(9)),l=n(5),u=n(7),p=n(4),d=n(3),m=n.p+"static/media/header__logo.6a0a6fc2.svg",f=n(1);var _=function(e){var t=e.loggedIn,n=e.currentUserLogin,a=e.logOut,o=Object(d.l)(),s="Create account",c="Log in",i="Log out",l="/sign-up",u="/sign-in";return Object(f.jsxs)("header",{className:"header",children:[Object(f.jsx)("img",{src:m,className:"header__logo",alt:"Mesto Logo"}),Object(f.jsx)(r.b,{to:"/",className:"header__profile-button",children:t?"".concat(n):null}),t?Object(f.jsx)(r.b,{to:"/",className:"header__entrance-button",onClick:function(){a()},children:i}):Object(f.jsx)(r.b,{className:"header__entrance-button",to:o.pathname===l?"".concat(u):o.pathname===u?"".concat(l):t?"".concat(i):c,children:o.pathname===l?"".concat(c):o.pathname===u?"".concat(s):t?"".concat(i):c})]})},j=Object(a.createContext)();var b=function(e){var t=e.item,n=e.owner,a=e.onCardClick,s=e.onCardLike,c=e.onCardDel,r=o.a.useState(!1),i=Object(p.a)(r,2),l=i[0],u=i[1],d=o.a.useContext(j),m=Object(p.a)(d,1)[0];return o.a.useEffect((function(){t.likes.some((function(e){return e===m._id}))?u(!0):u(!1)}),[t.likes,m._id]),Object(f.jsxs)("div",{className:"elements__element",children:[n?Object(f.jsx)("button",{className:"elements__delete-button",type:"button",onClick:function(){c(t)}}):null,Object(f.jsx)("a",{className:"elements__picture-link",href:"#/",target:"_self",onClick:function(){a(t)},children:Object(f.jsx)("img",{className:"elements__picture",alt:t.name,src:t.link})}),Object(f.jsxs)("div",{className:"elements__caption",children:[Object(f.jsx)("h2",{className:"elements__caption-text",children:t.name}),Object(f.jsxs)("div",{className:"elements__like",children:[Object(f.jsx)("button",{className:"elements__like-button ".concat(l?"elements__like-button_active":""),type:"button",onClick:function(){s(t)}}),Object(f.jsx)("span",{className:"elements__like-count",children:t.likes.length})]})]})]})};var h=function(e){var t=e.isEditAvatarPopupOpen,n=e.isEditProfilePopupOpen,a=e.isAddPlacePopupOpen,s=e.onCardDel,c=e.onCardClick,r=e.cards,i=(e.setCards,e.onCardLike),l=o.a.useContext(j),u=Object(p.a)(l,1)[0],d=function(e){i(e)};return Object(f.jsxs)("main",{children:[Object(f.jsxs)("section",{className:"profile",children:[Object(f.jsxs)("div",{className:"profile__avatar-container",children:[Object(f.jsx)("button",{className:"profile__avatar-edit",onClick:t}),Object(f.jsx)("img",{className:"profile__avatar",src:u.avatar,alt:"User picture"})]}),Object(f.jsxs)("div",{className:"profile__info",children:[Object(f.jsx)("h1",{className:"profile__name",children:u.name}),Object(f.jsx)("button",{className:"profile__edit-button",type:"button",onClick:n}),Object(f.jsx)("p",{className:"profile__status",children:u.about})]}),Object(f.jsx)("button",{className:"profile__add-button",type:"button",onClick:a})]}),Object(f.jsx)("section",{className:"elements",children:r&&r.map((function(e){return Object(f.jsx)(b,{item:e,owner:e.owner===u._id,onCardClick:c,onCardDel:s,onCardLike:function(e){d(e)}},e._id)}))})]})};var O=function(){return Object(f.jsx)("footer",{className:"footer",children:Object(f.jsx)("p",{className:"footer__copyright",children:"\xa9 2021 Mesto"})})},g=n(6),x=n(8);var v=function(e){var t=e.isOpen,n=e.onClose,a=e.formTitle,o=e.buttonTitle,s=e.buttonTitleLoading,c=e.children,r=e.onSubmit,i=e.onLoad,l=e.className;return e.resetForm,Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("section",{className:"popup-overlay ".concat(t?"popup-overlay_active":""),onClick:n}),Object(f.jsx)("section",{className:"popup ".concat(t?"popup_active":""),children:Object(f.jsxs)("div",{className:"popup__window",children:[Object(f.jsx)("button",{className:"popup__close-button",type:"button",onClick:n}),Object(f.jsxs)("form",{onSubmit:r,className:l,children:[Object(f.jsx)("h2",{className:"popup__form-title",children:a}),Object(f.jsxs)("fieldset",{className:"popup__form-fieldset",children:[c,Object(f.jsx)("input",{type:"submit",className:"popup__form-submit-button popup__form-submit-button_form_profile",value:"".concat(i?s:o),disabled:i})]})]})]})})]})};var C=function(e){var t=e.isOpen,n=e.onClose,a=e.onLoad,s=e.onChangeUserpic,c=o.a.useContext(j),r=Object(p.a)(c,1)[0],i=o.a.useState({avatar:""}),l=Object(p.a)(i,2),u=l[0],d=l[1];return o.a.useEffect((function(){d({avatar:r.avatar})}),[r,t]),Object(f.jsxs)(v,{className:"popup__form popup__form_state_edit-userpic",isOpen:t,onClose:n,onLoad:a,formTitle:"Upload picture",buttonTitle:"Apply",buttonTitleLoading:"Uploading...",onSubmit:function(e){e.preventDefault(),s(u)},children:[Object(f.jsx)("input",{type:"url",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",className:"popup__form-input popup__form-input_field_userpic-link",name:"avatar",id:"userpic-link-field",value:u.avatar||"",onChange:function(e){!function(e){d(Object(x.a)(Object(x.a)({},u),{},Object(g.a)({},e.target.name,e.target.value)))}(e)},required:!0}),Object(f.jsx)("span",{className:"popup__form-error-text popup__form-error-text_message_userpic-link userpic-link-field-error"})]})};var k=function(e){var t=e.isOpen,n=e.onClose,a=(e.formTitle,e.buttonTitle,e.onAddPlace),s=e.onLoad,c=o.a.useState({name:"",link:""}),r=Object(p.a)(c,2),i=r[0],l=r[1],u=function(e){l(Object(x.a)(Object(x.a)({},i),{},Object(g.a)({},e.target.name,e.target.value)))};return o.a.useEffect((function(){l({name:"",link:""})}),[t]),Object(f.jsxs)(v,{className:"popup__form popup__form_state_add-place",isOpen:t,onClose:n,onLoad:s,formTitle:"New place",buttonTitle:"Add",buttonTitleLoading:"Creating...",onSubmit:function(e){e.preventDefault(),a(i)},children:[Object(f.jsx)("input",{value:i.name,type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",className:"popup__form-input popup__form-input_field_place-name",name:"name",id:"place-name-field",onChange:function(e){u(e)}}),Object(f.jsx)("span",{className:"popup__form-error-text popup__form-error-text_message_place-name place-name-field-error"}),Object(f.jsx)("input",{value:i.link,type:"url",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",className:"popup__form-input popup__form-input_field_picture-link",name:"link",id:"picture-link-field",onChange:function(e){u(e)}}),Object(f.jsx)("span",{className:"popup__form-error-text popup__form-error-text_message_picture-link picture-link-field-error"})]})};var N=function(e){var t=e.isOpen,n=e.onClose,a=e.onUpdateUser,s=(e.resetForm,e.onLoad),c=o.a.useContext(j),r=Object(p.a)(c,1)[0],i=o.a.useState({name:"",about:""}),l=Object(p.a)(i,2),u=l[0],d=l[1],m=function(e){d(Object(x.a)(Object(x.a)({},u),{},Object(g.a)({},e.target.name,e.target.value)))};return o.a.useEffect((function(){d({name:r.name,about:r.about})}),[r,t]),Object(f.jsxs)(v,{className:"popup__form popup__form_state_edit-profile",isOpen:t,onClose:n,onLoad:s,formTitle:"Edit profile",buttonTitle:"Apply",buttonTitleLoading:"Uploading...",onSubmit:function(e){e.preventDefault(),a(u)},children:[Object(f.jsx)("input",{type:"text",placeholder:"\u0418\u043c\u044f",className:"popup__form-input popup__form-input_field_name",name:"name",id:"name-field",value:u.name||"",onChange:function(e){m(e)}}),Object(f.jsx)("span",{className:"popup__form-error-text popup__form-error-text_message_name name-field-error"}),Object(f.jsx)("input",{type:"text",placeholder:"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c",className:"popup__form-input popup__form-input_field_status",name:"about",id:"about-field",value:u.about||"",onChange:function(e){m(e)}}),Object(f.jsx)("span",{className:"popup__form-error-text popup__form-error-text_message_status status-field-error"})]})};var y=function(e){var t=e.card,n=e.isOpen,a=e.onClose,o=e.onLoad,s=e.onDeleteCard;return Object(f.jsx)(v,{className:"popup__form",isOpen:n,onClose:a,onLoad:o,formTitle:"Are you sure?",buttonTitle:"Yes",buttonTitleLoading:"Deleting...",onSubmit:function(e){e.preventDefault(),s(t)}})};var w=function(e){var t=e.card,n=e.isOpen,a=e.onClose;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("section",{className:"popup-overlay ".concat(n?"popup-overlay_active":""),onClick:a}),Object(f.jsx)("section",{className:"popup ".concat(n?"popup_active":""," popup_state_picture-full"),children:Object(f.jsxs)("div",{className:"popup__window popup__window_state_picture-full",children:[Object(f.jsx)("button",{className:"popup__close-button popup__close-button_state_picture-full",type:"button",onClick:a}),Object(f.jsx)("img",{className:"popup__image",src:t?t.link:"",alt:t?t.name:""}),Object(f.jsx)("h2",{className:"popup__caption",children:t?t.name:""})]})})]})};var S=function(e){var t=e.onLoad,n=e.onSubmit,a=o.a.useState({email:"",password:""}),s=Object(p.a)(a,2),c=s[0],r=s[1],i=function(e){r(Object(x.a)(Object(x.a)({},c),{},Object(g.a)({},e.target.name,e.target.value)))};return o.a.useEffect((function(){r({email:"",password:""})}),[]),Object(f.jsx)("section",{className:"user-entrance user-entrance__screen_state_login",children:Object(f.jsxs)("form",{className:"user-entrance__form user-entrance__form_state_login",onSubmit:function(e){e.preventDefault(),n(c)},name:"user-entrance__form_state_login",noValidate:!0,children:[Object(f.jsx)("h2",{className:"user-entrance__form-title",children:"Sign in"}),Object(f.jsxs)("fieldset",{className:"user-entrance__form-fieldset user-entrance__form-fieldset_state_login",children:[Object(f.jsx)("input",{value:c.email,type:"text",placeholder:"Email",className:"user-entrance__form-input user-entrance__form-input_field_email",name:"email",id:"email-field",onChange:function(e){i(e)}}),Object(f.jsx)("span",{className:"user-entrance__form-error-text user-entrance__form-error-text_message_email email-field-error"}),Object(f.jsx)("input",{value:c.password,type:"password",placeholder:"Password",className:"user-entrance__form-input user-entrance__form-input_field_password",name:"password",id:"password-field",onChange:function(e){i(e)},autoComplete:"on"}),Object(f.jsx)("span",{className:"user-entrance__form-error-text user-entrance__form-error-text_message_password password-field-error"}),Object(f.jsx)("input",{type:"submit",className:"user-entrance__form-submit-button user-entrance__form-submit-button_form_login",disabled:t,value:"Sign in"})]})]})})};var A=function(e){var t=e.onLoad,n=e.onSubmit,a=o.a.useState({email:"",password:""}),s=Object(p.a)(a,2),c=s[0],i=s[1],l=function(e){i(Object(x.a)(Object(x.a)({},c),{},Object(g.a)({},e.target.name,e.target.value)))};return o.a.useEffect((function(){i({email:"",password:""})}),[]),Object(f.jsxs)("section",{className:"user-entrance user-entrance__screen_state_registration",children:[Object(f.jsxs)("form",{className:"user-entrance__form user-entrance__form_state_registration",onSubmit:function(e){e.preventDefault(),n(c)},name:"user-entrance__form_state_registration",noValidate:!0,children:[Object(f.jsx)("h2",{className:"user-entrance__form-title",children:"Sign up"}),Object(f.jsxs)("fieldset",{className:"user-entrance__form-fieldset user-entrance__form-fieldset_state_registration",children:[Object(f.jsx)("input",{value:c.email,type:"text",placeholder:"Email",className:"user-entrance__form-input user-entrance__form-input_field_email",name:"email",id:"email-register-field",onChange:function(e){l(e)}}),Object(f.jsx)("span",{className:"user-entrance__form-error-text user-entrance__form-error-text_message_email email-field-error"}),Object(f.jsx)("input",{value:c.password,type:"password",placeholder:"Password",className:"user-entrance__form-input user-entrance__form-input_field_password",name:"password",id:"password-register-field",onChange:function(e){l(e)},autoComplete:"on"}),Object(f.jsx)("span",{className:"user-entrance__form-error-text user-entrance__form-error-text_message_password password-field-error"}),Object(f.jsx)("input",{type:"submit",className:"user-entrance__form-submit-button user-entrance__form-submit-button_form_registration",disabled:t,value:"Sign up"})]})]}),Object(f.jsx)(r.b,{to:"/sign-in",className:"user-entrance__bottom-link user-entrance__bottom-link_state_registration",children:"Already a user? Sign in"})]})},T=n.p+"static/media/success.a9eb6caf.svg",L=n.p+"static/media/fail.d4ce2a26.svg";var U=function(e){var t=e.isOpen,n=e.onClose,a=e.onFail,o="Registration successful!",s="Success",c="Something went wrong! Please, try again.",r="Error",i=Object(d.n)();function l(){i("/sign-in"),n()}return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("section",{className:"popup-overlay ".concat(t?"popup-overlay_active":""),onClick:function(){return a?n():l()}}),Object(f.jsx)("section",{className:"popup ".concat(t?"popup_active":""),children:Object(f.jsxs)("div",{className:"popup__window",children:[Object(f.jsx)("button",{className:"popup__close-button",type:"button",onClick:function(){return a?n():l()}}),Object(f.jsxs)("div",{className:"popup__form",children:[Object(f.jsx)("img",{className:"popup__icon popup__icon_state_success-message",src:a?L:T,alt:a?r:s}),Object(f.jsx)("p",{className:"popup__form-caption",children:"".concat(a?c:o)})]})]})})]})};var P=function(e){var t=e.loggedIn,n=e.children;return t?n:Object(f.jsx)(d.a,{to:"/sign-in"})},E=n(11),D=n(12),J=new(function(){function e(t){Object(E.a)(this,e),this.baseUrl=t}return Object(D.a)(e,[{key:"getUserInfo",value:function(){return fetch("".concat(this.baseUrl,"/users/me"),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json","Access-Control-Allow-Credentials":"true",Authorization:"Bearer ".concat(this._getJwt())}}).then(this._checkResponse.bind(this))}},{key:"getCards",value:function(){return fetch("".concat(this.baseUrl,"/cards"),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json","Access-Control-Allow-Credentials":"true",Authorization:"Bearer ".concat(this._getJwt())}}).then(this._checkResponse.bind(this))}},{key:"setUserInfo",value:function(e,t){return fetch("".concat(this.baseUrl,"/users/me"),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json","Access-Control-Allow-Credentials":"true",Authorization:"Bearer ".concat(this._getJwt())},body:JSON.stringify({name:e,about:t})}).then(this._checkResponse.bind(this))}},{key:"setUserPic",value:function(e){return fetch("".concat(this.baseUrl,"/users/me/avatar"),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json","Access-Control-Allow-Credentials":"true",Authorization:"Bearer ".concat(this._getJwt())},body:JSON.stringify({avatar:e})}).then(this._checkResponse.bind(this))}},{key:"postCard",value:function(e){return fetch("".concat(this.baseUrl,"/cards"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","Access-Control-Allow-Credentials":"true",Authorization:"Bearer ".concat(this._getJwt())},body:JSON.stringify({name:e.name,link:e.link})}).then(this._checkResponse.bind(this))}},{key:"deleteCard",value:function(e){return fetch("".concat(this.baseUrl,"/cards/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json","Access-Control-Allow-Credentials":"true",Authorization:"Bearer ".concat(this._getJwt())}}).then(this._checkResponse.bind(this))}},{key:"likeCard",value:function(e){return fetch("".concat(this.baseUrl,"/cards/").concat(e,"/likes"),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json","Access-Control-Allow-Credentials":"true",Authorization:"Bearer ".concat(this._getJwt())}}).then(this._checkResponse.bind(this))}},{key:"unLikeCard",value:function(e){return fetch("".concat(this.baseUrl,"/cards/").concat(e,"/likes"),{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json","Access-Control-Allow-Credentials":"true",Authorization:"Bearer ".concat(this._getJwt())}}).then(this._checkResponse.bind(this))}},{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}},{key:"_getJwt",value:function(){return localStorage.jwt}}]),e}())("https://example.com"),R=new(function(){function e(t){Object(E.a)(this,e),this.baseUrl=t}return Object(D.a)(e,[{key:"register",value:function(e){return console.log("register"),fetch("".concat(this.baseUrl,"/signup"),{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Credentials":"true"},body:JSON.stringify({password:e.password,email:e.email})}).then(this._checkResponse.bind(this))}},{key:"auth",value:function(e){return fetch("".concat(this.baseUrl,"/signin"),{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Credentials":"true"},body:JSON.stringify({password:e.password,email:e.email})}).then(this._checkResponse.bind(this))}},{key:"validation",value:function(e){return fetch("".concat(this.baseUrl,"/users/me"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e),"Access-Control-Allow-Credentials":"true"}}).then(this._checkResponse.bind(this))}},{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}}]),e}())("https://example.com");var I=function(){var e=o.a.useState(!1),t=Object(p.a)(e,2),n=t[0],a=t[1],s=o.a.useState(!1),c=Object(p.a)(s,2),r=c[0],m=c[1],b=o.a.useState(!1),g=Object(p.a)(b,2),x=g[0],v=g[1],T=o.a.useState(!1),L=Object(p.a)(T,2),E=L[0],D=L[1],I=o.a.useState(!1),B=Object(p.a)(I,2),F=B[0],z=B[1],M=o.a.useState(null),G=Object(p.a)(M,2),H=G[0],V=G[1],q=o.a.useState({}),K=Object(p.a)(q,2),Y=K[0],Q=K[1],W=o.a.useState([]),X=Object(p.a)(W,2),Z=X[0],$=X[1],ee=o.a.useState(!1),te=Object(p.a)(ee,2),ne=te[0],ae=te[1],oe=o.a.useState(!1),se=Object(p.a)(oe,2),ce=se[0],re=se[1],ie=o.a.useState(!1),le=Object(p.a)(ie,2),ue=le[0],pe=le[1],de=o.a.useState(!1),me=Object(p.a)(de,2),fe=me[0],_e=me[1],je=o.a.useState({}),be=Object(p.a)(je,2),he=be[0],Oe=be[1],ge=Object(d.n)();function xe(){D(!1),a(!1),v(!1),z(!1),m(!1),pe(!1),V(null)}var ve=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t,n){var a,o;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=7;break}return e.next=3,J.unLikeCard(t);case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.next=9,J.likeCard(t);case 9:return o=e.sent,e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return o.a.useEffect((function(){ce&&J.getUserInfo().then((function(e){Q(e)})).catch((function(e){console.log(e)}))}),[ce]),o.a.useEffect((function(){ce&&J.getCards().then((function(e){$(e)})).catch((function(e){console.log(e)}))}),[ce]),o.a.useEffect((function(){localStorage.jwt?R.validation(localStorage.jwt).then((function(e){e&&(Oe(e.email),re(!0),ge("/"))})).catch((function(e){console.log(e)})):re(!1)}),[ce]),Object(f.jsx)(o.a.StrictMode,{children:Object(f.jsx)(j.Provider,{value:[Y,Q],children:Object(f.jsxs)("div",{className:"page",tabIndex:"0",onKeyDown:function(e){!function(e){(n||r||x||E||F)&&27===e.keyCode&&xe()}(e)},children:[Object(f.jsx)(_,{loggedIn:ce,currentUserLogin:he,logOut:function(){localStorage.removeItem("jwt"),re(!1),ge("/sign-in")}}),Object(f.jsx)(U,{isOpen:ue,onClose:xe,onFail:fe}),Object(f.jsxs)(d.d,{children:[Object(f.jsx)(d.b,{path:"*",element:Object(f.jsx)(d.a,{replace:!0,to:"/"})}),Object(f.jsx)(d.b,{path:"/sign-up",element:Object(f.jsx)(A,{onSubmit:function(e){ae(!0),R.register(e).then((function(){_e(!1)})).catch((function(e){console.log(e),_e(!0)})).finally((function(){ae(!1),pe(!0)}))},onLoad:ne})}),Object(f.jsx)(d.b,{path:"/sign-in",element:Object(f.jsx)(S,{onSubmit:function(e){ae(!0),R.auth(e).then((function(e){var t;e.token&&(localStorage.setItem("jwt",e.token),t=e.token,R.validation(t).then((function(e){e&&(Oe(e.email),re(!0),ge("/"))})).catch((function(e){console.log(e)})))})).catch((function(e){console.log(e),_e(!0),pe(!0)})).finally((function(){ae(!1)}))},onLoad:ne})}),Object(f.jsx)(d.b,{path:"/",element:Object(f.jsx)(P,{loggedIn:ce,children:Object(f.jsx)(h,{isEditAvatarPopupOpen:function(){a(!0)},isEditProfilePopupOpen:function(){v(!0)},isAddPlacePopupOpen:function(){D(!0)},onCardClick:function(e){z(!0),V(e)},onCardDel:function(e){m(!0),V(e)},cards:Z,setCards:$,onCardLike:function(e){var t=e.likes.some((function(e){return e===Y._id}));ve(e._id,t).then((function(t){var n=Z.map((function(n){return n._id===e._id?t:n}));$(n)})).catch((function(e){return console.error(e)}))}})})})]}),Object(f.jsx)(O,{}),Object(f.jsx)(y,{isOpen:r,onClose:xe,card:H,onDeleteCard:function(e){ae(!0),J.deleteCard(e._id).then((function(){$(Z.filter((function(t){return t._id!==e._id})))})).then((function(){xe()})).catch((function(e){console.log(e)})).finally((function(){ae(!1)}))},onLoad:ne}),Object(f.jsx)(C,{isOpen:n,onClose:xe,onChangeUserpic:function(e){ae(!0),J.setUserPic(e.avatar).then((function(e){Q(e)})).then((function(){xe()})).catch((function(e){console.log(e)})).finally((function(){ae(!1)}))},onLoad:ne}),Object(f.jsx)(N,{isOpen:x,onClose:xe,onUpdateUser:function(e){ae(!0),J.setUserInfo(e.name,e.about).then((function(e){Q(e)})).then((function(){xe()})).catch((function(e){console.log(e)})).finally((function(){ae(!1)}))},onLoad:ne}),Object(f.jsx)(k,{isOpen:E,onClose:xe,onAddPlace:function(e){ae(!0),J.postCard(e).then((function(e){$([e].concat(Object(i.a)(Z)))})).then((function(){xe()})).catch((function(e){console.log(e)})).finally((function(){ae(!1)}))},onLoad:ne}),Object(f.jsx)(w,{isOpen:F,onClose:xe,card:H})]})})})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,35)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),o(e),s(e),c(e)}))};c.a.render(Object(f.jsx)(o.a.StrictMode,{children:Object(f.jsx)(r.a,{children:Object(f.jsx)(I,{})})}),document.getElementById("root")),B()}},[[34,1,2]]]);
//# sourceMappingURL=main.04a3561c.chunk.js.map